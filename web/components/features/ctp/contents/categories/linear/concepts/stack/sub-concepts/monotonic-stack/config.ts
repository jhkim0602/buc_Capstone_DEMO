import { CTPModuleConfig } from "@/components/features/ctp/common/types";

export const STACK_MONOTONIC_CONFIG: CTPModuleConfig = {
    title: "Monotonic Stack (ë‹¨ì¡° ìŠ¤íƒ)",
    description: "ìŠ¤íƒì„ ì´ìš©í•´ ë°ì´í„°ë¥¼ íŠ¹ì • ìˆœì„œ(ì˜¤ë¦„ì°¨ìˆœ/ë‚´ë¦¼ì°¨ìˆœ)ë¡œ ì •ë ¬í•˜ì—¬ O(N) ë¬¸ì œë¥¼ í•´ê²°í•©ë‹ˆë‹¤.",
    tags: ["Monotonicity", "Next Greater Element", "O(N)"],
    mode: "code",
    initialCode: {
        python: `# === USER CODE START ===
# ì˜¤í°ìˆ˜ (Next Greater Element) êµ¬í•˜ê¸°
nums = [9, 5, 2, 7, 3, 8]
n = len(nums)
result = [-1] * n
stack = [] # 'ê°’'ì´ ì•„ë‹Œ 'ì¸ë±ìŠ¤'ë¥¼ ì €ì¥í•©ë‹ˆë‹¤

print(f"Input: {nums}")

for i in range(n):
    # í˜„ì¬ ê°’(nums[i])ì´ ìŠ¤íƒì˜ Topë³´ë‹¤ í¬ë‹¤ë©´?
    # -> Topì— ìˆëŠ” ìˆ˜ë“¤ì—ê²Œ 'ì˜¤í°ìˆ˜'ëŠ” ë°”ë¡œ ë‚˜(nums[i])ì…ë‹ˆë‹¤.
    while stack and nums[stack[-1]] < nums[i]:
        idx = stack.pop()
        result[idx] = nums[i] # ì •ë‹µ ê¸°ë¡
        print(f"Pop: {idx}ë²ˆ ì¸ë±ìŠ¤ ì˜¤í°ìˆ˜ ë°œê²¬! -> {nums[i]}")
    
    # ì•„ì§ ì˜¤í°ìˆ˜ë¥¼ ëª» ì°¾ì•˜ìœ¼ë¯€ë¡œ ìŠ¤íƒì— ëŒ€ê¸° (Push)
    stack.append(i)
    # print(f"Push: {i}ë²ˆ ì¸ë±ìŠ¤ ëŒ€ê¸°")

print(f"Result: {result}")

# === USER CODE END ===`
    },
    story: {
        problem: `### ì™œ í•„ìš”í• ê¹Œ? (Problem)
"ë‚´ ì˜¤ë¥¸ìª½ì— ìˆëŠ” ì²« ë²ˆì§¸ í° ìˆ˜ëŠ” ëˆ„êµ¬ì¼ê¹Œ?"

ë°°ì—´ì˜ ê° ì›ì†Œì— ëŒ€í•´, ìì‹ ë³´ë‹¤ ì˜¤ë¥¸ìª½ì— ìˆëŠ” ìˆ˜ ì¤‘ ê°€ì¥ ë¨¼ì € ë“±ì¥í•˜ëŠ” í° ìˆ˜(**ì˜¤í°ìˆ˜**, Next Greater Element)ë¥¼ ì°¾ì•„ì•¼ í•©ë‹ˆë‹¤.

*   ì´ì¤‘ ë°˜ë³µë¬¸(\`for i... for j...\`)ìœ¼ë¡œ ì°¾ìœ¼ë©´ **O(N^2)**ì˜ ì‹œê°„ì´ ê±¸ë¦½ë‹ˆë‹¤.
*   ë°ì´í„°ê°€ 100ë§Œ ê°œë¼ë©´? ì‹œê°„ ì´ˆê³¼ë¡œ í•´ê²°í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.

"ìŠ¤íƒì„ ì‚¬ìš©í•˜ë©´ O(N)ìœ¼ë¡œ ì¤„ì¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤."`,
        definition: `### í•µì‹¬ ì •ì˜ (Definition)
Monotonic Stack (ë‹¨ì¡° ìŠ¤íƒ)ì€ ìŠ¤íƒ ë‚´ë¶€ì˜ ì›ì†Œë“¤ì´ í•­ìƒ **ì˜¤ë¦„ì°¨ìˆœ** ë˜ëŠ” **ë‚´ë¦¼ì°¨ìˆœ**ì„ ìœ ì§€í•˜ë„ë¡ ê´€ë¦¬í•˜ëŠ” ê¸°ìˆ ì…ë‹ˆë‹¤.

*   **ì¸ë±ìŠ¤ ì €ì¥**: ê°’ ìì²´ê°€ ì•„ë‹Œ **ì¸ë±ìŠ¤**ë¥¼ ìŠ¤íƒì— ì €ì¥í•˜ëŠ” ê²ƒì´ ì¼ë°˜ì ì…ë‹ˆë‹¤.(ìœ„ì¹˜ë¥¼ ì•Œì•„ì•¼ ì •ë‹µ ë°°ì—´ì— ê¸°ë¡í•  ìˆ˜ ìˆê¸° ë•Œë¬¸)
*   **Pop ì¡°ê±´**: ìŠ¤íƒì˜ ì§ˆì„œë¥¼ ê¹¨ëŠ” ìƒˆë¡œìš´ ê°’ì´ ë“±ì¥í•˜ë©´, ì§ˆì„œë¥¼ ë§ì¶œ ë•Œê¹Œì§€ ê¸°ì¡´ ì›ì†Œë“¤ì„ ì œê±°(Pop)í•©ë‹ˆë‹¤.

**ë¶ˆë³€ì‹**
- ìŠ¤íƒ ë‚´ë¶€ëŠ” í•­ìƒ ë‹¨ì¡°ì„±(ì˜¤ë¦„/ë‚´ë¦¼)ì„ ìœ ì§€í•œë‹¤.
- ê° ì›ì†ŒëŠ” ìµœëŒ€ í•œ ë²ˆ push/pop ëœë‹¤.`,
        analogy: `### ì‰½ê²Œ ì´í•´í•˜ê¸° (Analogy)
"ì˜¥ìƒ ì •ì›ê³¼ í‚¤ í° ë¹Œë”©"ì„ ìƒìƒí•´ ë³´ì„¸ìš”.

ì‚¬ëŒë“¤ì´ ì˜¥ìƒì— ì¼ë ¬ë¡œ ì„œì„œ **ì˜¤ë¥¸ìª½**ì„ ë°”ë¼ë´…ë‹ˆë‹¤.
ë‚˜ë³´ë‹¤ **í‚¤ê°€ ì‘ì€ ì‚¬ëŒë“¤**ì€ ë‚´ ê·¸ë¦¼ìì— ê°€ë ¤ì ¸ ì˜¤ë¥¸ìª½ í’ê²½ì„ ë³¼ ìˆ˜ ì—†ìŠµë‹ˆë‹¤. (ìŠ¤íƒì— ë‚¨ìŒ)

í•˜ì§€ë§Œ ë‚˜ë³´ë‹¤ **í‚¤ê°€ í° ì‚¬ëŒ(ë¹Œë”©)**ì´ ë“±ì¥í•˜ë©´?
"ì•„, ë‚´ ì˜¤í°ìˆ˜ëŠ” ì € ì‚¬ëŒì´êµ¬ë‚˜!" í•˜ê³  ê¹¨ë‹«ê³  ì˜¥ìƒì—ì„œ ë‚´ë ¤ì˜µë‹ˆë‹¤. (Pop & ì •ë‹µ ê¸°ë¡)`,
        playgroundDescription: `
ì•„ë˜ ì˜ˆì œ ì½”ë“œëŠ” ì˜¤í°ìˆ˜(Next Greater Element)ë¥¼ ì°¾ëŠ” O(N) ì•Œê³ ë¦¬ì¦˜ì…ë‹ˆë‹¤.

*   ğŸ”µ íƒìƒ‰ (Blue): í˜„ì¬ ë°°ì—´ì—ì„œ ê²€ì‚¬ ì¤‘ì¸ ìˆ«ì(\`i\`)ì…ë‹ˆë‹¤.
*   ğŸŸ¡ ë¹„êµ (Yellow): ìŠ¤íƒì˜ Topê³¼ í˜„ì¬ ìˆ«ìê°€ "ì‹¸ìš°ëŠ”" ì¤‘ì…ë‹ˆë‹¤.
*   ğŸ”´ ì œê±° (Red): ìŠ¤íƒ Topì´ í˜„ì¬ ìˆ«ìë³´ë‹¤ ì‘ì•„ì„œ íŒ¨ë°°(Pop)í–ˆìŠµë‹ˆë‹¤. (ì˜¤í°ìˆ˜ ë‹¹ì²¨!)
*   ğŸŸ¢ ì •ë‹µ (Green): ì˜¤í°ìˆ˜ë¥¼ ì°¾ì€ ìœ„ì¹˜ì— ì •ë‹µì´ ê¸°ë¡ë©ë‹ˆë‹¤.

ìˆ«ìë“¤ì´ ìŠ¤íƒì— ìŒ“ì´ë‹¤ê°€, ë” í° ìˆ˜ë¥¼ ë§Œë‚¬ì„ ë•Œ **ì—°ì‡„ì ìœ¼ë¡œ í„°ì ¸ë‚˜ê°€ëŠ”(Pop)** ê³¼ì •ì„ í™•ì¸í•´ë³´ì„¸ìš”!
  
**ì‹¤ìŠµ ìš”ì•½**
- ìŠ¤íƒì— ì¸ë±ìŠ¤ë§Œ ì €ì¥í•˜ëŠ” ì´ìœ  í™•ì¸
- popì´ ì—°ì‡„ì ìœ¼ë¡œ ì¼ì–´ë‚˜ëŠ” ìˆœê°„ ê´€ì°°
- ê²°ê³¼ ë°°ì—´ì´ ì–¸ì œ ì±„ì›Œì§€ëŠ”ì§€ í™•ì¸
`
    },
    features: [
        {
            title: "ë‹¨ì¡°ì„± ìœ ì§€",
            description: "ìŠ¤íƒ ë‚´ë¶€ë¥¼ ì˜¤ë¦„ì°¨ìˆœ/ë‚´ë¦¼ì°¨ìˆœìœ¼ë¡œ ìœ ì§€í•˜ì—¬ ë¹„êµì™€ ì œê±°ë¥¼ í•œ ë²ˆì”©ë§Œ ìˆ˜í–‰í•©ë‹ˆë‹¤."
        },
        {
            title: "ì¸ë±ìŠ¤ ê¸°ë°˜ ì²˜ë¦¬",
            description: "ê°’ì´ ì•„ë‹Œ ì¸ë±ìŠ¤ë¥¼ ì €ì¥í•´, ê²°ê³¼ ë°°ì—´ì— ì¦‰ì‹œ ê¸°ë¡í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤."
        },
        {
            title: "ì„ í˜• ì‹œê°„ í•´ê²°",
            description: "ê° ì›ì†ŒëŠ” ìµœëŒ€ í•œ ë²ˆ push/pop ë˜ë¯€ë¡œ ì „ì²´ ì‹œê°„ ë³µì¡ë„ëŠ” O(N)ì…ë‹ˆë‹¤."
        }
    ],
    complexity: {
        access: "O(N)",
        search: "O(N)",
        insertion: "O(1)",
        deletion: "Amortized" // Or "O(1) Avg"
    },
    complexityNames: {
        access: "Total Time",
        search: "Space Aux",
        insertion: "Per Element",
        deletion: "Analysis"
    },
    practiceProblems: [
        {
            id: 17298,
            title: "ì˜¤í°ìˆ˜ (NGE)",
            tier: "Gold IV",
            description: "ê°€ì¥ ëŒ€í‘œì ì¸ Monotonic Stack ë¬¸ì œì…ë‹ˆë‹¤. O(N^2)ë¡œ í’€ë©´ ì‹œê°„ ì´ˆê³¼ê°€ ë°œìƒí•©ë‹ˆë‹¤."
        },
        {
            id: 2493,
            title: "íƒ‘ (Tower)",
            tier: "Gold V",
            description: "ì´ë²ˆì—” 'ì™¼ìª½'ì— ìˆëŠ” ì²« ë²ˆì§¸ í° ìˆ˜ë¥¼ ì°¾ëŠ” ë¬¸ì œì…ë‹ˆë‹¤. ë°©í–¥ë§Œ ë°˜ëŒ€ì¼ ë¿ ì›ë¦¬ëŠ” ê°™ìŠµë‹ˆë‹¤."
        },
        {
            id: 6198,
            title: "ì˜¥ìƒ ì •ì› ê¾¸ë¯¸ê¸°",
            tier: "Gold V",
            description: "ìì‹ ë³´ë‹¤ ì‘ì€ ë¹Œë”©ë“¤ì„ ë‚´ë ¤ë‹¤ë³´ëŠ” ë¬¸ì œì…ë‹ˆë‹¤. (Monotonic Stack ì‘ìš©)"
        }
    ],
    implementation: [
        {
            language: 'python',
            code: `# Monotonic Stack ê¸°ë³¸ í…œí”Œë¦¿
def next_greater_element(nums):
    stack = [] # ì¸ë±ìŠ¤ ì €ì¥ìš©
    result = [-1] * len(nums)

    for i in range(len(nums)):
        # ìŠ¤íƒì´ ë¹„ì–´ìˆì§€ ì•Šê³ , í˜„ì¬ ê°’ì´ ìŠ¤íƒ Top ê°’ë³´ë‹¤ í¬ë‹¤ë©´?
        # -> Monotonicity(ë‚´ë¦¼ì°¨ìˆœ)ê°€ ê¹¨ì§ -> Pop ìˆ˜í–‰!
        while stack and nums[stack[-1]] < nums[i]:
            idx = stack.pop()
            result[idx] = nums[i] # ì˜¤í°ìˆ˜ ê¸°ë¡
        
        stack.append(i) # í˜„ì¬ ì¸ë±ìŠ¤ Push
    
    return result`
        }
    ]
};
